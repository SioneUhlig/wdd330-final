<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="Sione Uhlig">
    <title>Event Map - Local Event Discovery</title>
    <meta name="description" content="View events on an interactive map.">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="styles/normalize.css">
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="styles/map.css">
    <link rel="stylesheet" href="styles/larger.css">
    <link rel="stylesheet" href="styles/animations.css">
    <link rel="icon" href="images/favicon.webp" type="image/x-icon">

    <script src="scripts/api-config.js"></script>
    <script src="scripts/utility.js"></script>

    <script src="scripts/map.js"></script>

    <script src="scripts/navigation.js" defer></script>
    <script src="scripts/footer.js" defer></script>

    <script
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCV-awjx4Qa0OWgQlT8bbYaxjLEawWfu7s&libraries=places,geometry&callback=initMap"
        async defer></script>
</head>

<body class="map-page">
    <header>
        <div class="logo">
            <img src="images/favicon.webp" alt="Event Discovery Logo" width="44" height="44">
            <span class="site-name">Local Event Discovery</span>
        </div>

        <button class="hamburger" id="ham-btn" aria-label="Toggle navigation menu">
            <span></span>
            <span></span>
            <span></span>
        </button>

        <nav id="nav-bar" class="navigation">
            <ul>
                <li><a href="index.html">Home</a></li>
                <li><a href="discover.html">Discover</a></li>
                <li><a href="map.html" class="active">Map</a></li>
                <li><a href="favorites.html">Favorites</a></li>
            </ul>
        </nav>
    </header>

    <main class="map-main">
        <button id="toggle-sidebar" class="sidebar-toggle-btn" aria-label="Toggle filters sidebar">
            <span>‚ò∞</span> Filters
        </button>

        <div class="map-section-wrapper">
            <aside class="map-sidebar" id="map-sidebar">
                <div class="sidebar-header">
                    <h2>Search & Filters</h2>
                    <button id="close-sidebar" class="close-sidebar-btn" aria-label="Close sidebar">√ó</button>
                </div>

                <div class="map-filters">
                    <div class="filter-group">
                        <label for="map-location">Location</label>
                        <div style="display: flex; gap: 0.5rem;">
                            <input type="text" id="map-location" placeholder="Enter city, state" value="Dallas, TX"
                                style="flex: 1; padding: 0.75rem; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 1rem;">
                            <button id="use-gps-map" class="gps-btn" aria-label="Use my current location"
                                title="Use my location"
                                style="background: #40E0D0; border: none; border-radius: 8px; padding: 0.75rem; cursor: pointer; font-size: 1.2rem; min-width: 44px;">
                                üìç
                            </button>
                        </div>
                    </div>

                    <div class="filter-group">
                        <label for="map-category">Category</label>
                        <select id="map-category">
                            <option value="all">All Events</option>
                            <option value="music">Music</option>
                            <option value="food">Food & Drink</option>
                            <option value="arts">Arts</option>
                            <option value="sports">Sports</option>
                            <option value="community">Community</option>
                        </select>
                    </div>

                    <div class="filter-group">
                        <label for="map-radius">Search Radius</label>
                        <select id="map-radius">
                            <option value="5">5 miles</option>
                            <option value="10" selected>10 miles</option>
                            <option value="25">25 miles</option>
                            <option value="50">50 miles</option>
                        </select>
                    </div>

                    <button id="update-map-search" class="btn-primary"
                        style="width: 100%; margin-top: 1rem; padding: 0.875rem;">
                        üîç Update Search
                    </button>
                </div>
            </aside>

            <div class="map-container">
                <div id="map" class="interactive-map"></div>

                <div class="map-legend">
                    <h3>Legend</h3>
                    <div class="legend-item">
                        <span class="marker music">üéµ</span>
                        <span id="music">Music</span>
                    </div>
                    <div class="legend-item">
                        <span class="marker food">üçî</span>
                        <span id="food">Food</span>
                    </div>
                    <div class="legend-item">
                        <span class="marker arts">üé®</span>
                        <span id="art">Arts</span>
                    </div>
                    <div class="legend-item">
                        <span class="marker sports">‚öΩ</span>
                        <span id="sports">Sports</span>
                    </div>
                    <div class="legend-item">
                        <span class="marker community">üë•</span>
                        <span id="community">Community</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="event-list-container">
            <h2 style="text-align: center; padding: 1rem;">Events Near You</h2>
            <div class="event-list" id="map-event-list">
                <div class="loading-spinner"></div>
            </div>
        </div>
    </main>

    <footer>
        <div class="footer-content">
            <div class="contact-info">
                <h3>Sione's Event Planner</h3>
                <p>1500 Marilla St</p>
                <p>Dallas, TX 75201</p>
                <p>SioneCraft.com</p>
                <p>(214)-670-3215</p>
            </div>

            <div class="social">
                <a href="https://www.facebook.com/" target="_blank" aria-label="Facebook">
                    <img src="images/facebook.svg" alt="facebook" width="16" height="16">
                </a>
                <a href="https://github.com/" target="_blank" aria-label="GitHub">
                    <img src="images/githubimg.svg" alt="github logo" width="16" height="16">
                </a>
                <a href="https://www.linkedin.com/" target="_blank" aria-label="LinkedIn">
                    <img src="images/linkedin.svg" alt="linkedin" width="16" height="16">
                </a>
            </div>

            <div>
                <p>WDD330 Class Project</p>
                <p><a href="https://www.youtube.com/watch?v=lKh1Ijpfn8c" target="_blank">JavaScript Functionality Video</a></p>
                <span id="yearjs"></span>
                <div><span id="lastmodified"></span></div>
            </div>
        </div>
    </footer>
</body>

</html>